<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A volunteer-driven crowdsourced effort to track the coronavirus in India. A detailed country map shows the extent of the coronavirus outbreak, with tables of the number of cases by state and district."><meta name="title" content="Coronavirus Outbreak in India: Latest Map and Case Count">
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel='shortcut icon' type='image/x-icon' href='svg/covid.png' />
    <link href="https://fonts.googleapis.com/css2?family=Oxygen:wght@700&display=swap" rel="stylesheet">

    <title>News</title>
    <style>
      
        .nbox{
            height: 80vh;
            width: 100vw;
            border: 2px solid red;
            position: absolute;
            top:9vh;
        }
        ul{
            color: rgb(25, 24, 68);
        }
        li{
            color: slategray;
        }
    </style>
</head>
<body style="background-color: rgb(0, 0, 31); font-family: 'Oxygen', sans-serif; color: white;">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    
        <a class="navbar-brand" style="font-size: x-large;" href="#"><img style="width: 45px; height: 45px; filter: invert(100%);" src="svg/logo.png"></img>Covid-19 Tracker</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
      
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item ">
              <a class="nav-link" href="index.html">Home </a>
            </li>
            <li class="nav-item active">
              <a class="nav-link" href="#">News<span class="sr-only">(current)</span></a>
            </li>
          </ul>
          <form class="form-inline my-2 my-lg-0">
            <input class="form-control mr-sm-2" id="myInput" type="search" onkeyup="myFunct()" placeholder="Search" aria-label="Search">
            <!-- <button class="btn btn-outline-success my-2 my-sm-0 text-light text-success" onclick="" type="submit">Search</button> -->
          </form>
        </div>
      </nav>

<br><br><br><br> <br><br>

  <div class="container">
      <!-- <div class="nbox"> -->
          <ul class="news" id="myUL">
              
          </ul>
      <!-- </div> -->
 </div>


    
    
</body>
<script>
    async function ret(e){
       // e.preventDefault();

        const apiKey = '1d2acb9031be46238c6cf6ef8b8a228f'
       // let topic = input.value;

        let url = 'https://api.nytimes.com/svc/search/v2/articlesearch.json?q=health,india&api-key=0HvPLnmFAPzV7ko0cYEjBYFJFlmIPOpZ'
       // let url = 'https://api.nytimes.com/svc/news/v3/content/all/all.json?api-key=QClvIEtxlNOOrgzI3qnbj3BQC2x20Dyg'
 //  let url = 'https://api.nytimes.com/svc/topstories/v2/health.json?api-key=0HvPLnmFAPzV7ko0cYEjBYFJFlmIPOpZ'
      //  let url = 'https://api.nytimes.com/svc/suggest/v1/timestags?query=india&filter=(Geo),(Des)&api-key=0HvPLnmFAPzV7ko0cYEjBYFJFlmIPOpZ'
       // let url = 'https://api.nytimes.com/svc/suggest/v1/timestags?query=India&[optional-param1=value1]&[...]&api-key=0HvPLnmFAPzV7ko0cYEjBYFJFlmIPOpZ'

    //     fetch(url).then((res)=>{
    //         return res.json()
    //     }).then((data)=>{
    //         console.log(data)
        
    //     })
    // }
     let result=await fetch(url)
     let data=await result.json()
    let data2= data.response.docs
    console.log(data2)
    for (let i=0;i<10;i++){
        console.log(data2[i])
        let html=`<li class="news-bullets"><h3 class="text-white">%h%</h3><span style="color:rgb(150, 150, 150, 0.6);">%s%</span><br><br><p>%p%</p><a href="%l%" class="text-primary">Read complete story</a><br><br><br><br></li>`
        // document.getElementById()
        nhtml=html.replace('%h%',data2[i].headline.main)
        nhtml=nhtml.replace('%s%',data2[i].snippet)
        nhtml=nhtml.replace('%p%',data2[i].lead_paragraph)
        nhtml=nhtml.replace('%l%',data2[i].web_url)
        document.querySelector('.news').insertAdjacentHTML('beforeend',nhtml)
    }

    }
    function myFunct() {
    // Declare variables
    var input, filter, ul, li, a, i, txtValue;
    input = document.getElementById('myInput');
    filter = input.value.toUpperCase();
    ul = document.getElementById("myUL");
    li = ul.getElementsByTagName('li');
  
    // Loop through all list items, and hide those who don't match the search query
    for (i = 0; i < li.length; i++) {
      a = li[i].getElementsByTagName("h3")[0];
      txtValue = a.textContent || a.innerText;
      if (txtValue.toUpperCase().indexOf(filter) > -1) {
        li[i].style.display = "";
      } else {
        li[i].style.display = "none";
      }
    }
  }
    ret()
</script>
</html>