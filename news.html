<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Daily corona virus cases data, state wise for India displayed through maps and charts. The Case count is updated daily. With latest updated news about Covid-19 in India">
    <meta property="og:image" content="https://github.com/Aakashmangla2000/Covid-19-India-Website/blob/master/svg/logo.png">
    <meta property="og:url" content="https://aakashmangla2000.github.io/Covid-19-India-Website/" />
    <meta name="title" content="Live Covid-19 Data India">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Covid India">
    <link rel="apple-touch-icon" href="https://github.com/Aakashmangla2000/Covid-19-India-Website/blob/master/svg/logo.png">
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel='shortcut icon' type='image/x-icon' href='svg/covid.png' />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Oxygen:wght@700&display=swap" rel="stylesheet">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
    <title>News</title>
    <style>
      
        .nbox{
            height: 80vh;
            width: 100vw;
            border: 2px solid red;
            position: absolute;
            top:9vh;
        }
        ul{
            color: rgb(25, 24, 68);
        }
        li{
            color: slategray;
        }
    </style>
</head>
<body style="background-color: rgb(0, 0, 31); font-family: 'Oxygen', sans-serif; color: white;">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    
        <a class="navbar-brand" style="font-size: x-large;" href="index.html"><img style="width: 45px; height: 45px; filter: invert(100%);" src="svg/logo.png"></img>Covid-19 Tracker</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
      
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item ">
              <a class="nav-link" href="index.html">Home </a>
            </li>
            <li class="nav-item active">
              <a class="nav-link" href="#">News<span class="sr-only">(current)</span></a>
            </li>
          </ul>
          <form class="form-inline my-2 my-lg-0">
            <input class="form-control mr-sm-2" id="myInput" type="search" onkeyup="myFunct()" placeholder="Search" aria-label="Search">
            <!-- <button class="btn btn-outline-success my-2 my-sm-0 text-light text-success" onclick="" type="submit">Search</button> -->
          </form>
        </div>
      </nav>

<br><br><br><br> <br><br>

  <div class="container">
      <!-- <div class="nbox"> -->
          <ul class="news" id="myUL">
              
          </ul>
      <!-- </div> -->
 </div>

    
</body>
<script>
    async function ret(e){
       // e.preventDefault();

        const apiKey = '1d2acb9031be46238c6cf6ef8b8a228f'
       // let topic = input.value;

        let url = 'https://api.nytimes.com/svc/search/v2/articlesearch.json?q=health,india&api-key=0HvPLnmFAPzV7ko0cYEjBYFJFlmIPOpZ'
       // let url = 'https://api.nytimes.com/svc/news/v3/content/all/all.json?api-key=QClvIEtxlNOOrgzI3qnbj3BQC2x20Dyg'
 //  let url = 'https://api.nytimes.com/svc/topstories/v2/health.json?api-key=0HvPLnmFAPzV7ko0cYEjBYFJFlmIPOpZ'
      //  let url = 'https://api.nytimes.com/svc/suggest/v1/timestags?query=india&filter=(Geo),(Des)&api-key=0HvPLnmFAPzV7ko0cYEjBYFJFlmIPOpZ'
       // let url = 'https://api.nytimes.com/svc/suggest/v1/timestags?query=India&[optional-param1=value1]&[...]&api-key=0HvPLnmFAPzV7ko0cYEjBYFJFlmIPOpZ'

    //     fetch(url).then((res)=>{
    //         return res.json()
    //     }).then((data)=>{
    //         console.log(data)
        
    //     })
    // }
     let result=await fetch(url)
     let data=await result.json()
    let data2= data.response.docs
    for (let i=0;i<10;i++){
        let html=`<li class="news-bullets"><h3 class="text-white">%h%</h3><span style="color:rgb(150, 150, 150, 0.6);">%s%</span><br><br><p>%p%</p><a href="%l%" class="text-primary">Read complete story</a><br><br><br><br></li>`
        // document.getElementById()
        nhtml=html.replace('%h%',data2[i].headline.main)
        nhtml=nhtml.replace('%s%',data2[i].snippet)
        nhtml=nhtml.replace('%p%',data2[i].lead_paragraph)
        nhtml=nhtml.replace('%l%',data2[i].web_url)
        document.querySelector('.news').insertAdjacentHTML('beforeend',nhtml)
    }

    }
    function myFunct() {
    // Declare variables
    var input, filter, ul, li, a, i, txtValue;
    input = document.getElementById('myInput');
    filter = input.value.toUpperCase();
    ul = document.getElementById("myUL");
    li = ul.getElementsByTagName('li');
  
    // Loop through all list items, and hide those who don't match the search query
    for (i = 0; i < li.length; i++) {
      a = li[i].getElementsByTagName("h3")[0];
      txtValue = a.textContent || a.innerText;
      if (txtValue.toUpperCase().indexOf(filter) > -1) {
        li[i].style.display = "";
      } else {
        li[i].style.display = "none";
      }
    }
  }
   // ret()

    async function getIn(){
      let result = await fetch('https://cors-anywhere.herokuapp.com/https://timesofindia.indiatimes.com/rssfeeds/-2128936835.cms?feedtype=sjson');
     
       // document.querySelector('.news').insertAdjacentHTML('beforeend',nhtml)
      let data = await result.json();

      let html=`<li class="news-bullets"><h3 class="text-white">%h%</h3><br><p>%p%</p><a href="%l%" class="text-primary">Read complete story</a><br><br><br><br></li>`
      
        for(let i = 0; i < 20; i++){

          let html2 = data.channel.item[0].description
                let x = html2.search("</a>")
                let nhtml2 = html2.slice(x+4,html2.length)

                nhtml=html.replace('%h%',data.channel.item[i].title)
                nhtml=nhtml.replace('%p%',nhtml2)
                nhtml=nhtml.replace('%l%',data.channel.item[i].link)
                document.getElementById('myUL').insertAdjacentHTML("beforeend",nhtml)

             }
                console.log(nhtml2)
    }
    getIn()
</script>
<script src="js/bootstrap.bundle.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
</html>